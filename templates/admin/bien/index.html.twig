<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>{% block title %}Immopro | Administration{% endblock %}</title>

  <meta content="" name="description">
  <meta content="" name="keywords">

      {% block stylesheets  %}
        {% include 'admin/partiel/stulo.html.twig' %}        
      {% endblock %}
  
</head>

<body>
    {% block header %}
        {% include 'admin/partiel/header.html.twig' %}
        {% endblock %}

      {% block body %}
      {% include 'admin/partiel/body.html.twig' %}

    <section class="section profile">
      <div class="row">
        <div class="col-xl-4">

          <div class="card">
            <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">

              <img src="{{asset('asset/img/profile-img.jpg')}}" alt="Profile" class="rounded-circle">
              <h2> {{app.user.fullName}}</h2>
              <h3>Agent Immobilier</h3>
              
            </div>
          </div>
          <div class="card">
            <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
              <h2>  
            <a href = "{{ path('app.bien.new') }}" class = 'btn btn-primary'>Ajouter un bien</a>  
                
              </h2>
             </div>
          </div>

        </div>
        
        <div class="col-xl-8">

          <div class="card">
            <div class="card-body pt-3"> 
              <h1>Administration des biens</h1>
               {% for message in app.flashes('success') %}
                 <div class = 'alert alert-success mt-4'>
                  {{message}}
                 </div> 
               {% endfor %}
                <table class="table table-hover m-4">
                      <thead>
                          <tr>
                              <th scope="col"><h6>Titre</h6></th>
                              <th scope="col"><h6>Prix</h6></th>
                              <th scope="col"><h6>Edition</h6></th>
                              <th scope="col"><h6>Supression</h6></th>

                          </tr>
                      </thead>
                      <tbody>
                          {% for bien in biens %}
                              <tr class="table-primary">
                                  <th scope="row"> {{bien.name}}</th>
                                  <th scope="row">{{bien.price}} $</th>
                                  <th scope="row">
                                  <a href = "{{path('app.admin.edit', {id: bien.id } )}}" class="btn btn-info">Editer</a>
                                  </th>
                                  <th>
                                  <a href = "{{path('app.admin.delete', {id: bien.id } )}}" class="btn btn-danger">Suprimer</a>

                                  {# <form  method= "post" action="{{path('app.admin.delete', {id: bien.id } )}}" onsubmit="return confirm(''Etes vous vraiment sÃ»r?)">
                                  <input type="hidden" name="_method" value="DELETE" >
                                  <input type="hidden" name="_token" value="{{csrf_token('delete' ~ bien.id)}}" >
                                   <button class="btn btn-danger">Suprimer</button>
                                   <form>#}
                                  </th>

                              </tr>
                          {% endfor %}
                      </tbody>
                 </table>            
                <div class="pagination page-item disabled">
                 {{knp_pagination_render(biens) }}
                </div>
            </div>
          </div>

        </div>

      </div>
    </section>

  </main><!-- End #main -->
   {% endblock %}

       {% block footer %}
        {% include 'admin/partiel/footer.html.twig' %}
        
        {% endblock %}
</body>

</html>